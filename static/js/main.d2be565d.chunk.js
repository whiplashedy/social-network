(this["webpackJsonpmy-app01"]=this["webpackJsonpmy-app01"]||[]).push([[0],{131:function(e,t,n){e.exports={recommendation:"Recommendation_recommendation__X_W2L"}},133:function(e,t,n){e.exports={login:"Login_login__3D9Jy"}},171:function(e,t,n){},279:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),s=n.n(r),c=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,326)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},i=n(52),o=n(95),u=n(96),l=n(92),d=n(13),j=n.n(d),b=n(25),f=n(7),p=n(31),h="SET_USER_DATA",O="SET_ERROR_MESSAGE",m={userId:null,email:null,login:null,isAuth:!1,errorMessage:""},g=function(e,t,n,a){return{type:h,payload:{id:e,email:t,login:n,isAuth:a}}},v=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a,r,s,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.me();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,s=a.login,c=a.email,t(g(r,c,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(f.a)(Object(f.a)({},e),t.payload);case O:return Object(f.a)(Object(f.a)({},e),{},{errorMessage:t.error});default:return e}},w=n(129),y="SET_INITIALIZED",S={initialized:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(f.a)(Object(f.a)({},e),{},{initialized:!0});default:return e}},N=Object(i.c)({feedPage:o.c,dialogPage:u.c,usersPage:l.a,authPage:x,appPage:_}),T=Object(i.e)(N,Object(i.a)(w.a));window.store=T;var P=T,k=n(12),E=n.n(k),A=n(9),C=n(8),F=n(22),D=n(23),U=(n(171),n(50)),I=n.n(U),L=n(32),M=function(){return Object(a.jsx)("div",{className:I.a.sidebar,children:Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{className:"".concat(I.a.item," nav-item active"),children:Object(a.jsxs)(L.c,{className:"nav-link",to:"/feed",children:[" ",Object(a.jsx)("i",{className:"fas fa-home"})," Home ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(a.jsx)("li",{className:"".concat(I.a.item,"  nav-item active"),children:Object(a.jsxs)(L.c,{className:"nav-link",to:"/users",children:[Object(a.jsx)("i",{className:"far fa-user-circle"})," Friends",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(a.jsx)("li",{className:"".concat(I.a.item," nav-item active"),children:Object(a.jsxs)(L.c,{className:"nav-link",to:"/messages",children:[Object(a.jsx)("i",{className:"far fa-envelope"})," Messages ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(a.jsx)("li",{className:"".concat(I.a.item," nav-item active"),children:Object(a.jsxs)(L.c,{className:"nav-link",to:"#",children:[Object(a.jsx)("i",{className:"fas fa-headphones"})," Music ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(a.jsx)("li",{className:"".concat(I.a.item," nav-item active"),children:Object(a.jsxs)(L.c,{className:"nav-link",to:"#",children:[Object(a.jsx)("i",{className:"far fa-bell"})," Notifications ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})})]})})},R=n(131),z=n.n(R),G=function(){return Object(a.jsx)("div",{className:z.a.recommendation,children:" "})},B=n(18),W=n(41),q=n(133),H=n.n(q),J=n(46),V=n.n(J),X=n(51),Y=n(314),Z=n(313),K=n(315),Q=n(77),$=Q.a({email:Q.b().required("Required email").email("Invalid email format"),password:Q.b().required("Required password").min(8)}),ee=function(e){return Object(a.jsxs)("div",{className:V.a.loginForm,children:[Object(a.jsx)("h4",{children:"login"}),Object(a.jsx)(X.c,{initialValues:{email:"",password:"",doSave:!1,showPassword:!1},validationSchema:$,onSubmit:function(t,n){var a=n.setSubmitting,r=n.resetForm;a(!0),console.log(t.email,t.password,t.doSave),e.login(t.email,t.password),console.log("send"),a(!1),r({})},children:function(t){var n=t.values,r=t.isSubmitting,s=t.handleChange,c=t.handleBlur,i=t.handleSubmit,o=t.errors,u=t.touched;return Object(a.jsxs)(X.b,{onSubmit:i,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(X.a,{name:"email",value:n.email,onChange:s,onBlur:c,placeholder:"email",as:Y.a}),o.email&&u.email?Object(a.jsx)("div",{className:V.a.errors,children:o.email}):null]}),Object(a.jsxs)("div",{className:V.a.password,children:[Object(a.jsx)(X.a,{name:"password",type:n.showPassword?"text":"password",value:n.password,onChange:s,onBlur:c,placeholder:"password",as:Y.a}),o.password&&u.password?Object(a.jsx)("div",{className:V.a.errors,children:o.password}):null,Object(a.jsxs)("label",{className:V.a.showPassword,children:[Object(a.jsx)(X.a,{name:"showPassword",type:"checkbox",as:K.a}),"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"]})]}),Object(a.jsxs)("div",{className:V.a.doSave,children:[Object(a.jsx)(X.a,{name:"doSave",type:"checkbox",as:K.a}),"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435?"]}),Object(a.jsx)("div",{children:Object(a.jsx)(Z.a,{disabled:r,type:"submit",children:"submit"})}),Object(a.jsx)("div",{className:V.a.errors,children:e.errorMessage})]})}})]})},te=function(e){return Object(a.jsx)("div",{className:H.a.login,children:e.isAuth?Object(a.jsxs)("div",{children:["Success: you logged in as ",e.login]}):Object(a.jsx)(ee,{login:e.login,errorMessage:e.errorMessage})})},ne=function(e){Object(F.a)(n,e);var t=Object(D.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return Object(a.jsx)(te,Object(f.a)(Object(f.a)({},this.props),{},{login:this.props.loginThunk}))}}]),n}(s.a.Component),ae=Object(W.b)((function(e){return{isAuth:e.authPage.isAuth,login:e.authPage.login,errorMessage:e.authPage.errorMessage}}),{setAuthThunk:v,loginThunk:function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(a){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.login(e,t);case 2:0===n.sent.data.resultCode&&a(v());case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(ne),re=n(60),se=n.n(re),ce=function(e){return Object(a.jsx)("div",{className:se.a.navbar,children:e.isAuth?Object(a.jsxs)("div",{className:se.a.user,children:["logined as: ",e.login,Object(a.jsx)("span",{className:se.a.logout,onClick:e.logoutThunk,children:"logout"})]}):Object(a.jsx)(L.c,{to:"/login",className:se.a.login,children:"login"})})},ie=Object(W.b)((function(e){return{isAuth:e.authPage.isAuth,login:e.authPage.login}}),{logoutThunk:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.logout();case 2:0===e.sent.data.resultCode&&t(g(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ce),oe=n(69),ue=function(e){return function(t){return Object(a.jsxs)(s.a.Suspense,{fallback:Object(a.jsx)(oe.a,{}),children:[" ",Object(a.jsx)(e,Object(f.a)({},t))]})}},le=s.a.lazy((function(){return n.e(4).then(n.bind(null,327))})),de=s.a.lazy((function(){return n.e(3).then(n.bind(null,328))})),je=s.a.lazy((function(){return n.e(6).then(n.bind(null,329))})),be=s.a.lazy((function(){return n.e(5).then(n.bind(null,330))})),fe=function(e){Object(F.a)(n,e);var t=Object(D.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.props.setInitializedThunk()}},{key:"render",value:function(){return this.props.initialized?Object(a.jsx)(L.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(ie,{}),Object(a.jsx)(M,{}),Object(a.jsx)(B.b,{path:"/feed",render:ue(le)}),Object(a.jsx)(B.b,{path:"/messages",render:ue(de)}),Object(a.jsx)(B.b,{path:"/users",render:ue(je)}),Object(a.jsx)(B.b,{path:"/profile/:uid",render:ue(be)}),Object(a.jsx)(B.b,{path:"/login",render:function(){return Object(a.jsx)(ae,{})}}),Object(a.jsx)(G,{})]})}):Object(a.jsx)(oe.a,{})}}]),n}(s.a.Component),pe=Object(W.b)((function(e){return{initialized:e.appPage.initialized}}),{setInitializedThunk:function(){return function(e){var t=e(v());Promise.all([t]).then((function(t){e({type:y})}))}}})(fe);E.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(W.a,{store:P,children:Object(a.jsx)(pe,{})})}),document.getElementById("root")),c()},31:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var a=n(13),r=n.n(a),s=n(25),c=n(128),i=n.n(c).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d15d7348-4ece-473f-8a37-b695d617fccb"}}),o={getUsers:function(e,t){return Object(s.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("users?page=".concat(e,"&count=").concat(t));case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)})))()},getProfile:function(e){return u.getProfile(e)},unfollowApi:function(e){return Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.delete("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},followApi:function(e){return Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.post("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},u={getProfile:function(e){return Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("profile/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getStatus:function(e){return i.get("profile/status/".concat(e))},updateStatus:function(e){return i.put("profile/status",{status:e})}},l={me:function(){return i.get("auth/me")},login:function(e,t){return i.post("auth/login",{email:e,password:t})},logout:function(){return i.delete("auth/login")}}},46:function(e,t,n){e.exports={doSave:"LoginForm_doSave__2GHLh",errors:"LoginForm_errors__19oWU",showPassword:"LoginForm_showPassword__24gWE",password:"LoginForm_password__3UtkI"}},50:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__2LLFJ"}},60:function(e,t,n){e.exports={navbar:"Navbar_navbar__V8OV6",login:"Navbar_login__1kizb",user:"Navbar_user__Z82-M",logout:"Navbar_logout__3D0YC"}},69:function(e,t,n){"use strict";var a=n(2);n(0);t.a=function(){return Object(a.jsx)("img",{src:"https://thumbs.gfycat.com/SeparateFeistyGoa-small.gif",alt:"",height:"150px",width:"150px"})}},92:function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return x})),n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return S})),n.d(t,"h",(function(){return _}));var a=n(13),r=n.n(a),s=n(25),c=n(7),i=n(31),o="FOLLOW",u="UNFOLLOW",l="SET_USERS",d="SET_CURRENT_PAGE",j="SET_TOTAL_USERS_COUNT",b="SET_IS_FETCHING",f="SET_USER_PROFILE",p="SET_USER_STATUS",h={users:[],totalUsersCount:0,pageSize:5,currentPage:1,isFetching:!1,profile:null,status:null},O=function(e){return{type:d,currentPage:e}},m=function(e){return{type:b,isFetching:e}},g=function(e){return{type:p,status:e}},v=function(e,t){return function(n){n(m(!0)),i.c.getUsers(e,t).then((function(e){var t,a;n(m(!1)),n((t=e.items,{type:l,users:t})),n((a=e.totalCount,{type:j,totalUsers:a}))}))}},x=function(e){return function(t){i.c.unfollowApi(e).then((function(n){0===n.resultCode&&t({type:u,userID:e})})).catch((function(e){console.log(e)}))}},w=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.c.followApi(e);case 3:0===t.sent.resultCode&&n({type:o,userID:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m(!0)),t.next=3,i.c.getProfile(e);case 3:a=t.sent,n(m(!1)),n({type:f,profile:a});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getStatus(e);case 2:a=t.sent,n(g(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.updateStatus(e);case 3:0===t.sent.data.resultCode&&n(g(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(c.a)(Object(c.a)({},e),{},{followed:!0}):e}))});case u:return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(c.a)(Object(c.a)({},e),{},{followed:!1}):e}))});case l:return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case d:return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case j:return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.totalUsers});case b:return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.isFetching});case f:return Object(c.a)(Object(c.a)({},e),{},{profile:t.profile});case p:return Object(c.a)(Object(c.a)({},e),{},{status:t.status});default:return e}}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var a=n(14),r=n(7),s="ADD-POST",c="UPDATE-POST-TEXT",i={posts:["post1","post2","post3","post3"],newPostText:""},o=function(){return{type:s}},u=function(e){return{type:c,post:e}};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n=e.newPostText;return Object(r.a)(Object(r.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[n]),newPostText:""});case c:return Object(r.a)(Object(r.a)({},e),{},{newPostText:t.post});default:return e}}},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var a=n(14),r=n(7),s="UPDATE-MESSAGE-TEXT",c="SEND-MESSAGE",i={newDialogText:"",dialogsData:[{id:0,name:"Ayana"},{id:1,name:"Nurs"},{id:2,name:"Mura"},{id:3,name:"Erj"}],messages:[{id:0,message:"Hi"}]},o=function(){return{type:c}},u=function(e){return{type:s,message:e}};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(r.a)(Object(r.a)({},e),{},{newDialogText:t.message});case c:var n=e.newDialogText;return Object(r.a)(Object(r.a)({},e),{},{newDialogText:"",messages:[].concat(Object(a.a)(e.messages),[{id:1,message:n}])});default:return e}}}},[[279,1,2]]]);
//# sourceMappingURL=main.d2be565d.chunk.js.map